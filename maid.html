<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5, user-scalable=yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="format-detection" content="telephone=no" />
    <title>PWA Limpieza Hotel - Camarera</title>
    <link rel="manifest" href="./manifest.json" />
    <!-- Iconos (usados por maid.js: bi-broom, bi-exclamation-triangle, bi-qr-code) -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
    <!-- QR Scanner -->
    <script src="https://cdn.jsdelivr.net/npm/jsqr@1.4.0/dist/jsQR.js"></script>
    <link rel="stylesheet" href="./src/maid.css" />
  </head>
  <body>
    <header class="topbar">
      <h1>Camarera</h1>
      <nav>
        <a href="./index.html" class="logout">Cerrar sesión</a>
      </nav>
    </header>

    <main class="container">

      <!-- ==========================
            BÚSQUEDA Y FILTROS
      ========================== -->
      <section class="card">
        <h3>Búsqueda rápida</h3>
        <div class="search-section">
          <div class="input-group">
            <input id="roomSearch" type="text" placeholder="Escribir o escanear # habitación (ej: 1-01)" />
            <button id="scanQrBtn" class="btn btn-sm btn-primary" title="Escanear código QR">
              <i class="bi bi-qr-code"></i> Escanear QR
            </button>
          </div>
          <div id="searchHint" style="font-size: 0.9rem; color: #666; margin-top: 6px;"></div>
        </div>
      </section>

      <!-- ==========================
            MAPA DE HABITACIONES
      ========================== -->
      <section class="card card-secondary">
        <h3>Mapa de habitaciones</h3>

        <div id="filterLegend" class="filter-legend"></div>

        <div id="allRooms" class="grid"></div>
      </section>

    </main>

    <div id="modal" class="modal hidden"></div>

    <script type="module" src="./src/maid.js"></script>
  </body>
</html>
